<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- basic -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- mobile metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <!-- site metas -->
    <title>My Web</title>
    <meta name="keywords" content="MY WEB">
    <meta name="description" content="">
    <meta name="author" content="YILSON ALEXIS MALAMBO MADRIGAL">
    <meta http-equiv='cache-control' content='no-cache'> <meta http-equiv='expires' content='0'> <meta http-equiv='pragma' content='no-cache'>
    <!-- bootstrap css -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <!-- owl css -->
    <link rel="stylesheet" th:href="@{/css/owl.carousel.min.css}">
    <!-- style css -->
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <!-- responsive-->
    <link rel="stylesheet" th:href="@{/css/responsive.css}">
    <!-- awesome fontfamily -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
    <!-- gallery -->
    <link rel="stylesheet" type="text/css" th:href="@{/gallery/css/estilos_gallery.css}">
    <!-- alertas personalizadas js -->
    <link href="//cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@4/dark.css" rel="stylesheet">
</head>
<!-- body -->

<body class="main-layout">
    <!-- loader  -->
    <div class="loader_bg">
        <div class="loader"><img th:src="@{/images/loading.gif}" alt="" /></div>
    </div>

    <div class="wrapper">
    <!-- end loader -->

     <!-- menu -->
     <div th:insert="/menu-header/menu :: menu"></div>
     <!-- end menu -->

    <div id="content">
    <!-- header -->
    <div th:insert="menu-header/header :: header"></div>
    <!-- end header -->
    <!-- start slider section -->
    <div class="slider_section"></div>
    <!-- end slider section -->

<!-- section slider -->
<section class="resip_section">
<div class="container">
	<div class="row"> 
		<div class="container">
		    <div class="row">
		        <div class="col-md-12">
		             <div style="background: #d8b00f; width:100%;">
		                    <!--// form -->
							<div class="row">
							  <div class=" col-md-12">
							  <div class="full">
							     <h1 style="text-align: center; margin-top:2%;" class="logo_index">REGISTRO DE DATOS BASICOS</h1>
							  </div>
							  </div>
							    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
							    
							        <!-- form -->
							        <div class="main_form" th:action="@{/registerData}" method="post">
							            <div class="row">				
							                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
							                    <input th:value="${nombre}" class="form-control" placeholder="Nombre Completo" type="text" name="name" autocomplete="off" id="name">
							                </div>
							                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
							                    <input th:value="${correo}" class="form-control" placeholder="Correo Electrónico" type="email" name="email" autocomplete="off" id="correo">
							                </div>
							              
							                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
							                    <input th:value="${clave1}" class="form-control" placeholder="Contrasña" type="password" name="clave1" autocomplete="off" id="clave1">
							                </div>
							                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
							                    <input th:value="${clave2}" class="form-control" placeholder="Repite la Contrasña" type="password" autocomplete="off" name="clave2" id="clave2">
							                </div>
							                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
			                                      <input style="cursor: pointer;" type="checkbox" id="mostrar_contrasena" title="Click para mostrar contraseña"/>
			                                      &nbsp;&nbsp;Mostrar Contraseña<select id="perfil" name="perfil" style="margin-left: 43%;position: relative;top: -50%;width: 57%;" class="form-select" aria-label="Default select example">
																					  <option value="" selected>Selecione tu Perfil de usuario</option>
																					  <option th:each="p : ${consultaProfile}" th:value="${p.id}" >[[${p.perfil}]]</option>
																				</select>	
							                </div>
							                <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
							                    <button onclick="register()" type="submit" class="send">Register</button><i id="p1" style="color:red; width:5px; margin-top: -13%; font-size:12pt;" class="fa fa-arrow-left cuadrado"><strong>Click Aqui</strong></i>
							                </div>
							            </div>
							        </div> <!-- the and form -->
							    </div>
							    <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
							        <div  style="color: red;background-color: black;width: 90%;text-align: center;" th:if="${data == 0}" id="alerta" class="alert alert-danger container" role="alert">
									   por favor registra un nombre gracias
									</div>	
									<div  style="color: red;background-color: black;width: 90%;text-align: center;" th:if="${c == 0}" id="alerta" class="alert alert-danger container" role="alert">
									   por favor registra un correo gracias
									</div>
									<div  style="color: red;background-color: black;width: 90%;text-align: center;" th:if="${c1 == 0}" id="alerta" class="alert alert-danger container" role="alert">
									   la contraseña es obligatoria
									</div>
									<div  style="color: red;background-color: black;width: 90%;text-align: center;" th:if="${validar == 0}" id="alerta" class="alert alert-danger container" role="alert">
									   las contraseñas no coiciden por favor reviselas
									</div>
									<div  style="color: red;background-color: black;width: 90%;text-align: center;" th:if="${resultadoquery == 0}" id="alerta" class="alert alert-danger container" role="alert">
									   el correo ya existe registrado
									</div>
									<div  style="color: red;background-color: black;width: 90%;text-align: center;" th:if="${profile == 0}" id="alerta" class="alert alert-danger container" role="alert">
									   por favor seleccione un perfil gracias
									</div>
							        <div class="img-box">
							            <figure style="margin-bottom: 3%;width: 97%;" class="container"><img th:src="@{/images/img.jpg}" alt="img" /></figure>
							        </div>
							        <!-- alert sweet js -->
									<div id="final_register" th:if="${resultadosave == 0}"></div>
							    </div>
							</div>
							<!-- the end form -->
		             </div>
		        </div>
		    </div>
		 </div>
	</div>
</div>
</section>

<!-- end slider -->
<!-- end section gallery slider -->
    <!-- footer -->
     <div th:insert="/menu-header/footer :: footer"></div>
    <!-- end footer -->
</div>
</div>
<div class="overlay"></div>
<script th:src="@{/js/b2/sweetalert2.min.js}"></script>
    <!-- Javascript files-->
    <script th:src="@{/js/jquery.min.js}"></script>
    <script th:src="@{/js/popper.min.js}"></script>
    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/js/owl.carousel.min.js}"></script>
    <script th:src="@{/js/custom.js}"></script>
    <script th:src="@{/js/jquery.mCustomScrollbar.concat.min.js}"></script>
    <script th:src="@{/js/jquery-3.0.0.min.js}"></script>
    <!-- js registers users -->
    <script th:src="@{/js/users.js}"></script>
    <!-- JavaScript Bundle with Popper -->
    <script th:src="@{/js/b2/bootstrap.bundle.min.js}" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
   <script type="text/javascript">
   //pasword
   $(document).ready(function () {
      $('#mostrar_contrasena').click(function () {
        if ($('#mostrar_contrasena').is(':checked')) {
          $('#clave1').attr('type', 'text');
          $('#clave2').attr('type', 'text');
        } else {
          $('#clave1').attr('type', 'password');
          $('#clave2').attr('type', 'password');
        }
      });
    });
   
   //validar informacion del registro
   $(document).ready(function(){
	  var final_1 = $('final_register').val()
			  if(final_register){
				  //alert sweet
				  Swal.fire({
					  title: 'registrado correctamente:)',
					  text: 'Deseas iniciar sesió?.',
					  icon: 'success',
					  showCancelButton: true,
					  confirmButtonColor: '#3085d6',
					  cancelButtonColor: '#d33',
					  confirmButtonText: 'Si!',
					  cancelButtonText:'No',
					  allowOutsideClick: false
					}).then((result) => {
					  if (result.isConfirmed) {
					       window.location = '/login'
					  }else{
						  var nombre = $('#name').val("");
						  var email = $('#correo').val("");
						  var claveone = $('#clave1').val("");
						  var clavetwo = $('#clave2').val("");
					  }
					}) // the end alrt sweet
			  }
   })
   //quitar spacios
    $("#correo").keyup(function(){              
        var ta = $("#correo");
        letras =   ta.val().replace(/ /g, "");
        ta.val(letras)
 	});
    $("#clave1").keyup(function(){              
        var ta = $("#clave1");
        letras =   ta.val().replace(/ /g, "");
        ta.val(letras)
 	});
    $("#clave2").keyup(function(){              
        var ta = $("#clave2");
        letras =   ta.val().replace(/ /g, "");
        ta.val(letras)
 	});  
   //menu
        $(document).ready(function() {
        	//caja que se mueve
        	document.getElementById('p1').classList.add('moviendo');
            $("#sidebar").mCustomScrollbar({
                theme: "minimal"
            });

            $('#dismiss, .overlay').on('click', function() {
                $('#sidebar').removeClass('active');
                $('.overlay').removeClass('active');
            });

            $('#sidebarCollapse').on('click', function() {
                $('#sidebar').addClass('active');
                $('.overlay').addClass('active');
                $('.collapse.in').toggleClass('in');
                $('a[aria-expanded=true]').attr('aria-expanded', 'false');
            });
        });
    </script>
    <script>
         $(document).ready(function() {
           var owl = $('.owl-carousel');
           owl.owlCarousel({
             margin: 10,
             nav: true,
             loop: true,
             responsive: {
               0: {
                 items: 1
               },
               600: {
                 items: 2
               },
               1000: {
                 items: 5
               }
             }
           })
         })
      </script>
      <!-- alert personalizadas libreria       <script src="sweetalert2.all.min.js"></script>  -->
      <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>
</html>